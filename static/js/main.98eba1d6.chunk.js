(this["webpackJsonppf-wooram-r"]=this["webpackJsonppf-wooram-r"]||[]).push([[0],{162:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(48),a=n.n(r),i=n(31),o=n(27),s=n(39),l=n(29),u=n(113),j=Object(u.b)({name:"testStore",initialState:{isLogin:!1,userInfo:null,userInit:!1},reducers:{plusCount:function(e,t){++e.count},actionIsLogin:function(e,t){e.isLogin=t.payload},actionUserInfo:function(e,t){var n=Object(l.a)({},t.payload);t.payload?e.userInfo=n:e.userInfo=null},actionUserInit:function(e,t){e.userInit=t.payload}}}),b=Object(u.a)({reducer:j.reducer,middleware:function(e){return e()}}),d=j.actions,h=d.actionIsLogin,O=d.actionUserInfo,x=d.actionUserInit,f=b,m=(n(162),n(0)),p=n.n(m),g=n(4),w=n(2),v=function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var I=function(){return Object(c.useEffect)((function(){v()}),[]),Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("h1",{children:"Home"})})};var k=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("h1",{children:"EditProfile Page"})})},y=n(12),C=n(134),A=n(228),P=n(232),S=n(217),E=n(216),L=n(224),D=n(126),F=n.n(D),G=n(123),W=n(53),T=n(37),U=n(124);Object(G.a)({apiKey:"AIzaSyD6np5ct_s0bPPZtnYFmaT5cGnlaV52pRI",authDomain:"pf-wooram-r.firebaseapp.com",projectId:"pf-wooram-r",storageBucket:"pf-wooram-r.appspot.com",messagingSenderId:"1020653825209",appId:"1:1020653825209:web:57137677efcdb480ae7f68"});var _=Object(T.e)(),B=Object(U.a)(),R={getAuth:W.e,signInWithEmailAndPassword:W.g,createUserWithEmailAndPassword:W.c,onAuthStateChanged:W.f,signOut:W.i,GoogleAuthProvider:W.b,GithubAuthProvider:W.a,signInWithPopup:W.h,fetchSignInMethodsForEmail:W.d},z=n(54),M=n(220);var q=Object(s.b)((function(e){return{state:e}}),(function(e){return{dispatch:e}}))((function(e){var t=e.state,n=Object(c.useState)(""),r=Object(y.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(!1),s=Object(y.a)(o,2),u=s[0],j=s[1],b=Object(c.useState)(null),d=Object(y.a)(b,2),h=d[0],O=d[1],x=Object(c.useRef)(null);Object(c.useEffect)((function(){t.userInit&&j(t.isLogin)}),[u]);var f=function(){var e=Object(g.a)(p.a.mark((function e(n){var c,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!t.isLogin){e.next=21;break}if(c=null,!h){e.next=11;break}return r=Object(z.d)(B,"".concat(t.userInfo.userId,"/").concat(Object(M.a)())),e.next=7,Object(z.e)(r,h.url,"data_url");case 7:return o=e.sent,e.next=10,Object(z.b)(o.ref);case 10:c=e.sent;case 11:if(!a){e.next=18;break}return e.next=14,Object(T.a)(Object(T.b)(_,"guest_book"),{comment:a,createAt:Date.now(),userAccount:t.userInfo.userAccount,userImg:t.userInfo.userImg,userId:t.userInfo.userId,imgInfo:c?{url:c,width:h.width,height:h.height}:null});case 14:O(null),x.current.value=null,e.next=19;break;case 18:alert("\uae00\uc790\uc785\ub825 \ud558\uc138\uc694");case 19:e.next=22;break;case 21:alert("Please Login");case 22:i("");case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:"GuestBookForm"}),Object(w.jsx)(A.a,{style:{display:"flex",justifyContent:"center"},children:Object(w.jsxs)(P.a,{id:"outlined-multiline-static",component:"form",sx:{maxWidth:"100%"},children:[Object(w.jsx)(S.a,{id:"outlined-multiline-static",fullWidth:!0,value:a,placeholder:"",required:!0,sx:{width:500,maxWidth:"100%"},onChange:function(e){i(e.target.value)}}),h&&Object(w.jsxs)("div",{style:{display:"flex",justifyContent:"center",position:"relative",flexDirection:"column"},children:[Object(w.jsx)("div",{children:Object(w.jsx)("img",{src:h.url,style:{width:"".concat(h.width,"px"),maxWidth:"450px"},alt:""})}),Object(w.jsx)("p",{children:Object(w.jsx)("button",{type:"button",onClick:function(){O(null),x.current.value=null},children:"clear img"})})]}),Object(w.jsx)("div",{children:Object(w.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onloadend=function(e){var t={url:e.target.result,width:null,height:null},n=new Image;n.src=e.target.result,n.onload=function(){t.width=this.width,t.height=this.height,O((function(e){return Object(l.a)(Object(l.a)({},e),t)}))}},n.readAsDataURL(t)}},ref:x})}),Object(w.jsx)(E.a,{direction:"row",sx:{mt:2},children:Object(w.jsx)(L.a,{variant:"contained",endIcon:Object(w.jsx)(F.a,{}),onClick:f,children:"Send"})})]})})]})}));var H=function(e){var t,n=e.itemObj,r=e.isMine,a=Object(c.useState)(!1),i=Object(y.a)(a,2),o=i[0],s=i[1],l=Object(c.useState)(n.comment),u=Object(y.a)(l,2),j=u[0],b=u[1],d=function(){s((function(e){return!e}))},h=function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j!==n.comment||j){e.next=2;break}return e.abrupt("return");case 2:if(!window.confirm("Are you sure UPDATE this item?")){e.next=8;break}return t=Object(T.d)(_,"guest_book",n.commentId),e.next=7,Object(T.i)(t,{comment:j});case 7:s(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)("li",{style:{fontSize:"18px"},children:o?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("input",{value:j,onChange:function(e){b(e.target.value)}}),Object(w.jsx)("ul",{children:Object(w.jsxs)("li",{children:[Object(w.jsx)("button",{onClick:h,children:"Update"}),Object(w.jsx)("button",{onClick:d,children:"Cancle"})]})})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("p",{children:n.comment}),n.imgInfo&&Object(w.jsx)("div",{style:{maxWidth:"500px",width:"".concat(n.imgInfo.width,"px")},children:Object(w.jsx)("img",{src:n.imgInfo.url,alt:"",style:{width:"100%"}})}),r&&Object(w.jsx)("ul",{children:Object(w.jsxs)("li",{children:[Object(w.jsx)("button",{onClick:(t="".concat(n.commentId),Object(g.a)(p.a.mark((function e(){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure DLETE this item?")){e.next=9;break}return c=Object(T.d)(_,"guest_book",t),e.next=5,Object(T.c)(c);case 5:if(!n||!n.imgInfo){e.next=9;break}return r=Object(z.d)(B,n.imgInfo.url),e.next=9,Object(z.a)(r);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})))),children:"Delete"}),Object(w.jsx)("button",{onClick:d,children:"Update"})]})})]})})};var N=Object(s.b)((function(e){return{state:e}}),(function(e){return{dispatch:e}}))((function(e){var t=e.state,n=Object(c.useState)([]),r=Object(y.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){var e=Object(T.h)(Object(T.b)(_,"guest_book"),Object(T.g)("createAt","desc")),t=Object(T.f)(e,(function(e){var n=e.docs.map((function(e){return Object(l.a)({commentId:e.id},e.data())}));return console.log(n),i(n),function(){t()}}))}),[]),Object(C.a)({palette:{primary:{light:"#5bcac1",main:"#33bdb2",dark:"#23847c",contrastText:"#fff"},secondary:{light:"#5bcac1",main:"#33bdb2",dark:"#23847c",contrastText:"#000"}}}),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:"GuestBook Page"}),Object(w.jsx)(q,{}),Object(w.jsx)("ul",{children:a.map((function(e){return Object(w.jsx)(H,{itemObj:e,isMine:e.userId&&t.userInfo?e.userId===t.userInfo.userId:null},e.commentId)}))})]})}));var V=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("h1",{children:"Contact Page"})})};var J=function(){return Object(C.a)({palette:{primary:{light:"#5bcac1",main:"#33bdb2",dark:"#23847c",contrastText:"#fff"},secondary:{light:"#5bcac1",main:"#33bdb2",dark:"#23847c",contrastText:"#000"}}}),Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("h1",{children:"Project Page"})})},K=n(229),Y=n(230),Z=n(133),Q=n.n(Z),X=n(231),$=n(234),ee=n(235),te=n(135),ne=n(226),ce=n(221);var re=Object(s.b)((function(e){return{state:e}}),(function(e){return{dispatch:e}}))((function(e){var t=e.state,n=Object(c.useState)(null),r=Object(y.a)(n,2),a=r[0],o=r[1],s=Object(c.useState)(!1),l=Object(y.a)(s,2),u=(l[0],l[1],function(){o(null)}),j=function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.signOut(R.getAuth());case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)(i.a,{children:Object(w.jsxs)(P.a,{sx:{flexGrow:0},children:[Object(w.jsx)($.a,{onClick:function(e){o(e.currentTarget)},sx:{p:0},children:t.userInfo&&t.userInfo.userImg?Object(w.jsx)(ne.a,{alt:"Remy Sharp",src:t.userInfo.userImg}):Object(w.jsx)(ne.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"})}),Object(w.jsxs)(te.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(a),onClose:u,children:[Object(w.jsx)(ce.a,{onClick:u,children:Object(w.jsx)(i.b,{to:"/edit-profile",children:Object(w.jsx)(ee.a,{textAlign:"center",children:"Profile"})})}),Object(w.jsx)(ce.a,{onClick:j,children:Object(w.jsx)(ee.a,{textAlign:"center",children:"Logout"})})]})]})})})),ae=n(5),ie=n(233),oe=n(223),se=n(225),le=n(238),ue=n(129),je=n.n(ue),be=n(128),de=n.n(be),he=n(131),Oe=n.n(he),xe=n(130),fe=n.n(xe),me=n(236),pe=n(237);function ge(e){switch(e){case"Firebase: Error (auth/invalid-email).":return"invalid email";case"Firebase: Error (auth/internal-error).":return"missing password";case"Firebase: Error (auth/missing-email).":return"missing email";case"Firebase: Password should be at least 6 characters (auth/weak-password).":return"Password should be at least 6 characters";case"Firebase: Error (auth/email-already-in-use).":return"email already in USE";case"Firebase: Error (auth/user-not-found).":return"user not found";case"Firebase: Error (auth/wrong-password).":return"wrong password";default:return""}}var we=function(e){var t=e.theme,n=e.open,r=e.headerDispatch,a=Object(c.useState)({email:"",password:"",showPassword:!1}),i=Object(y.a)(a,2),o=i[0],s=i[1],u=Object(c.useState)(!1),j=Object(y.a)(u,2),b=(j[0],j[1],Object(c.useState)("")),d=Object(y.a)(b,2),h=d[0],O=d[1],x=function(){f(),O(""),s({email:"",password:"",showPassword:!1})},f=function(){r({type:"SET_CLOSE_DIALOG"})},m=function(e){return function(t){s(Object(l.a)(Object(l.a)({},o),{},Object(ae.a)({},e,t.target.value)))}},p=function(e){var t,n=e.target.name;if("google"===n)t=new R.GoogleAuthProvider;else{if("github"!==n)return;t=new R.GithubAuthProvider}var c=R.getAuth();c.languageCode="ja",R.signInWithPopup(c,t).then((function(e){console.log(e),x()})).catch((function(e){e.code,e.message,e.email;console.log(e)}))};return Object(w.jsxs)(me.a,{open:n,onClose:f,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(w.jsx)(pe.a,{children:"Login"}),Object(w.jsxs)(A.a,{maxWidth:"sm",children:[Object(w.jsxs)(P.a,{noValidate:!0,autoComplete:"off",sx:{mt:2,mb:2},children:[Object(w.jsx)(S.a,{required:!0,id:"",label:"Email",type:"email",defaultValue:o.email,onChange:m("email"),fullWidth:!0,sx:{mb:3}}),Object(w.jsxs)(ie.a,{fullWidth:!0,variant:"outlined",required:!0,children:[Object(w.jsx)(oe.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(w.jsx)(se.a,{id:"outlined-adornment-password",type:o.showPassword?"text":"password",value:o.password,onChange:m("password"),endAdornment:Object(w.jsx)(le.a,{position:"end",children:Object(w.jsx)($.a,{"aria-label":"toggle password visibility",onClick:function(){s(Object(l.a)(Object(l.a)({},o),{},{showPassword:!o.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:o.showPassword?Object(w.jsx)(de.a,{}):Object(w.jsx)(je.a,{})})}),label:"Password",sx:{mb:3}}),h?Object(w.jsx)("p",{style:{marginBottom:"10px",color:"red"},children:h}):null,Object(w.jsx)(L.a,{variant:"outlined",theme:t,sx:{mb:1},type:"button",onClick:function(e){R.signInWithEmailAndPassword(R.getAuth(),o.email,o.password).then((function(e){console.log(e),x()})).catch((function(e,t){console.log(e.message),O(ge(e.message))}))},children:"Sign In"}),Object(w.jsx)(L.a,{variant:"outlined",theme:t,sx:{mb:3},type:"button",onClick:function(e){R.createUserWithEmailAndPassword(R.getAuth(),o.email,o.password).then((function(e){console.log(e),x()})).catch((function(e,t){O(ge(e.message))}))},children:"create new account"})]})]}),Object(w.jsxs)(E.a,{direction:"column",spacing:1,sx:{mb:2},children:[Object(w.jsx)(L.a,{variant:"outlined",endIcon:Object(w.jsx)(fe.a,{}),theme:t,name:"google",onClick:p,children:"Sign Up Google"}),Object(w.jsx)(L.a,{variant:"outlined",endIcon:Object(w.jsx)(Oe.a,{}),theme:t,name:"github",onClick:p,children:"Sign Up github"})]})]})]})},ve=n.p+"static/media/wooram_logo.0a2ca778.png",Ie=n(132),ke=n.n(Ie);var ye=Object(s.b)((function(e){return{state:e}}),(function(e){return{dispatch:e}}))((function(e,t){t.moveLinkTag;var n=Object(c.useState)(null),r=Object(y.a)(n,2),a=r[0],o=r[1],s=function(){o(null)};return Object(w.jsxs)(i.a,{children:[Object(w.jsx)(i.b,{to:"/",children:Object(w.jsx)(ee.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},children:Object(w.jsx)("img",{src:ve,alt:"logo",style:{maxWidth:"120px"}})})}),Object(w.jsxs)(P.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(w.jsx)($.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit",children:Object(w.jsx)(ke.a,{})}),Object(w.jsxs)(te.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(a),onClose:s,sx:{display:{xs:"block",md:"none"}},children:[Object(w.jsx)(ce.a,{children:Object(w.jsx)(i.b,{to:"/",onClick:s,children:Object(w.jsx)(ee.a,{textAlign:"center",children:"Home"})})}),Object(w.jsx)(ce.a,{children:Object(w.jsx)(i.b,{to:"/project",onClick:s,children:Object(w.jsx)(ee.a,{textAlign:"center",children:"Project"})})}),Object(w.jsx)(ce.a,{children:Object(w.jsx)(i.b,{to:"/guest-book",onClick:s,children:Object(w.jsx)(ee.a,{textAlign:"center",children:"Guest Book"})})}),Object(w.jsx)(ce.a,{children:Object(w.jsx)(i.b,{to:"/contact",onClick:s,children:Object(w.jsx)(ee.a,{textAlign:"center",children:"Contact"})})})]})]}),Object(w.jsx)(ee.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:Object(w.jsx)("img",{src:ve,alt:"logo",style:{maxWidth:"115px"}})}),Object(w.jsxs)(P.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[Object(w.jsx)(i.b,{to:"/",children:Object(w.jsx)(L.a,{sx:{my:2,color:"white",display:"block"},children:"Home"})}),Object(w.jsx)(i.b,{to:"/project",children:Object(w.jsx)(L.a,{sx:{my:2,color:"white",display:"block"},children:"Project"})}),Object(w.jsx)(i.b,{to:"/guest-book",children:Object(w.jsx)(L.a,{sx:{my:2,color:"white",display:"block"},children:"Guest Book"})}),Object(w.jsx)(i.b,{to:"/contact",children:Object(w.jsx)(L.a,{sx:{my:2,color:"white",display:"block"},children:"Contact"})})]})]})})),Ce=Object(C.a)({palette:{primary:{light:"#5bcac1",main:"#33bdb2",dark:"#23847c",contrastText:"#fff"},secondary:{light:"#5bcac1",main:"#33bdb2",dark:"#23847c",contrastText:"#000"}}}),Ae={openDialog:!1},Pe=function(e,t){switch(t.type){case"SET_OPEN_DIALOG":return Object(l.a)(Object(l.a)({},e),{},{openDialog:!0});case"SET_CLOSE_DIALOG":return Object(l.a)(Object(l.a)({},e),{},{openDialog:!1})}};var Se=Object(s.b)((function(e){return{state:e}}),(function(e){return{dispatch:e}}))((function(e){var t=e.state,n=Object(c.useReducer)(Pe,Ae),r=Object(y.a)(n,2),a=r[0],i=r[1];return Object(w.jsxs)(K.a,{position:"static",theme:Ce,children:[Object(w.jsx)(A.a,{maxWidth:"xl",children:Object(w.jsxs)(Y.a,{disableGutters:!0,children:[Object(w.jsx)(ye,{}),t.userInit?t.isLogin?Object(w.jsx)(re,{isLogin:t.isLogin}):Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(L.a,{variant:"outlined",startIcon:Object(w.jsx)(Q.a,{}),onClick:function(){i({type:"SET_OPEN_DIALOG"})},style:{color:"#fff",borderColor:"#fff"},children:"Login"})}):Object(w.jsx)(X.a,{})]})}),Object(w.jsx)(we,{open:a.openDialog,headerDispatch:i})]})}));var Ee=Object(s.b)((function(e){return{state:e}}),(function(e){return{dispatch:e}}))((function(e){var t=e.state,n=e.dispatch;return Object(c.useEffect)((function(){R.onAuthStateChanged(R.getAuth(),(function(e){if(e){console.log();var t={userAccount:e.email,userImg:e.photoURL,userId:e.uid};"github.com"===e.providerData[0].providerId&&(t.userAccount=e.reloadUserInfo.screenName),n(h(!0)),n(O(t))}else n(h(!1)),n(O(!1));n(x(!0))}))}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Se,{moveLinkTag:i.b}),Object(w.jsx)(i.a,{children:Object(w.jsxs)(o.d,{children:[Object(w.jsx)(o.b,{path:"/",component:I,exact:!0}),Object(w.jsx)(o.b,{path:"/guest-book",component:N,exact:!0}),Object(w.jsx)(o.b,{path:"/contact",component:V,exact:!0}),Object(w.jsx)(o.b,{path:"/project",component:J,exact:!0}),Object(w.jsx)(o.b,{exact:!0,path:"/edit-profile",children:t.userInit?t.isLogin?Object(w.jsx)(k,{}):Object(w.jsx)(o.a,{to:"/"}):null})]})})]})}));a.a.render(Object(w.jsx)(s.a,{store:f,children:Object(w.jsx)(Ee,{})}),document.getElementById("root"))}},[[171,1,2]]]);
//# sourceMappingURL=main.98eba1d6.chunk.js.map